<template>
    <div>
        <div class="breadcrumbs-area">
            <h3>Blog</h3>
            <ul>
                <li>
                    <a href="index.html">Home</a>
                </li>
                <li>Blog</li>
            </ul>
        </div>
        <div class="card height-auto">
            <div class="card-body">
                <div class="heading-layout1">
                    <div class="item-title">
                        <router-link  class="btn-fill-md radius-4 text-light bg-orange-red mb-3"
                            v-if="$routerHistory.hasPrevious()" :to="{ path: $routerHistory.previous().path }">
                            GO BACK
                        </router-link>
                    </div>
                    <div class="dropdown">
                        <router-link  class="btn-fill-md text-light bg-dark-pastel-green mt-3 float-right" :to="{name:'blognew'}">Add New</router-link>

                    </div>
                </div>


    <div class="row" v-for="blog in blogs.data">

        <div class="col-md-12">
            <b>Title : </b> <span>{{ blog.title }}</span>
        </div>
        <div class="col-md-12">
            <b>Slug : </b> <span>{{ blog.slug }}</span>
        </div>
       <div class="col-md-12">
            <b>Description : </b> <span>{{ blog.description }}</span>
        </div>

       <div class="col-md-12">
            <b>Category : </b> <span>{{ blog.Category }}</span>
        </div>



       <div class="col-md-12">
            <b>Images : </b>
        </div>



      <div class="col-md-3" v-for="(img,index) in JSON.parse(blog.Images)" >
            <img width="100%" :src="'/'+img" alt="">
        </div>



    </div>




            </div>
        </div>
    </div>
</template>
<script>
export default {
    created() {

    },
    data() {
        return {
            blogs: {},

        }
    },
    methods: {

        blogfun(page) {
            if (typeof page === 'undefined') {
                page = 1;
            }

 this.timeout = setTimeout( ()=> {
            axios.get(`/api/blog?page=${page}&filter[id]=${this.$route.params.id}`)
                .then(({ data }) => {
                    this.blogs = data;
                })
                .catch()
                  }, 300);
        },





    },
    mounted() {
            this.blogfun();

    }
}
</script>
<style lang="css" scoped>
#img_size {
    width: 40px;
}
</style>
